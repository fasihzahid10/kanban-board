import Link from 'next/link';
import { prisma } from '@/lib/prisma';
async function getBoards(){ return prisma.board.findMany({ orderBy: { createdAt: 'desc' } }); }
export default async function Page(){ const boards = await getBoards(); return (<div className='container py-6'><div className='flex items-center justify-between mb-4'><h1 className='text-2xl font-bold'>Boards</h1><form action='/api/boards' method='post' className='flex gap-2'><input name='title' placeholder='New board title' className='input' required /><button className='btn btn-primary' type='submit'>Create</button></form></div>{boards.length===0 && (<div className='card p-6 text-center text-gray-600'>No boards yet. Create your first board above.</div>)}<div className='grid sm:grid-cols-2 lg:grid-cols-3 gap-4'>{boards.map(b => (<div key={b.id} className='card p-4'><div className='flex items-center justify-between'><Link className='font-semibold hover:underline' href={`/board/${b.id}`}>{b.title}</Link><form action={`/api/boards/${b.id}`} method='post'><input type='hidden' name='_method' value='delete' /><button className='btn btn-ghost' type='submit'>Delete</button></form></div></div>))}</div></div>); }
